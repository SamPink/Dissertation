\chapter{Discussion and Analysis}

\section{Findings}
The final recall of the model in terms of predicting if a booking made is going to be cancelled is 71 percent, this is similar to what was found by Antonio et al.  and shows that machine learning can be used to solve the problem of predicting booking cancellations in the student accommodation industry. Other papers in revenue management look at results in terms of overall accuracy \cite{Antonio2017PredictingRevenue} of the model not the precision.True True to True False ratio is also important when trying to understand which bookings will not be cancelled as well as which will be. The importance of this depends on the specific research but in this case there is little value in predicting if a booking will not be cancelled.

\vspace{5mm}

The results from the exploratory data analysis show that there are significant differences in the dataset between cancelled and non cancelled bookings. These findings can be used to identify the reasons behind cancellations. For example, sixth year students with high price per night bookings who have not booked before appear to be significantly more likely to cancel based on this analysis. Identifying the factors that increase the chance of cancellation can allow for data-driven decisions to be made based on this information to attempt to prevent cancellations. Increasing communication between the accommodation company and students with a high chance of cancellation could potentially prevent cancellations. These findings show that it is possible to accurately train a classification model to predict cancellations. 

\vspace{5mm}

It was expected that the features with significant differences between cancelled and non cancelled bookings to have a high ranking on the feature importance. However, only price per night out of the features identified in the exploratory data analysis were included in the feature importance. This could be due to the feature engineering performed by Auto ML. Although the majority of the features discovered through exploratory data analysis were categorical, machine learning algorithms work best with numerical data, potentially explaining the differences in the features identified. Future work could focus on feature engineering to integrate the categorical variables more effectively into the model, allowing for the potential identification of other features having a more significant impact than price. 

\vspace{5mm}

The dataset used in this project is from the time period 2020-2021. There is a chance that the amount of cancellations and the reasons behind these could have been affected by the Coronavirus pandemic, potentially influencing the results of this model. In some cases students have been advised to stay at home and not live in halls during this time period, meaning that the booking would have been cancelled. This could have produced a dataset which is not fully representative of a normal academic year. However, the ratio of cancellations in this dataset was in line with previous research \cite{Antonio2017PredictingRevenue}, suggesting that the pandemic may not have had an affect at all. There was no available data from before the Coronavirus pandemic which could be used in this project. In order to be sure that the dataset was not affected by the Coronavirus pandemic, these findings should be compared to future years. However, there are some valuable insights that can be gained from this project regardless of Coronavirus as it is likely that the pandemic will still have a significant impact on the student accommodation industry in the next academic year. 
 
\section{Applications of findings}

Being able to analyse the 2020-2021 booking data has allowed for the accurate prediction of cancellations as well as identifying the reasons behind them. This can be useful in determining business strategies to implement, aiming to reduce the impact of student accommodation cancellations. The application of these findings are particularly important in the student accommodation industry due to the uncertainty of the booking contract. Student accommodation companies maximise there occupancy based on the number of bookings but do not take into account the amount of cancellations. Having the ability to be able to predict the cancellations with a high degree of certainty will allow for a more accurate forecasting of occupancy, subsequently reducing revenue lost. 

\vspace{5mm}

Given the fact that in the year 2020/2021 a single company in the student accommodation industry lost Â£20 million in revenue from customers who completed the booking process but then cancelled, there is a lot of valuable insights to be gained from this area of study. This is just one specific example of how machine learning used correctly can be used to solve uncertainty in business situations. Based on the findings of this study, effective application of this approach in other industries with sufficient data may be beneficial. Applying these tools allow for data driven decision making to be applied into industries that are yet to adapt and take advantage of new technologies that are available. The methodology used shows how the skills and time required for machine leaning to be correctly applied have reduced with the development of tools like Auto ML studio that abstract away alot of the complexity in projects similar to this one. The applications of this project are relevant in a variety of industries and will allow for business predictions to be made.

\section{Methodology alterations}
 
The classification model was implemented using the XGBoost Python library in the original process. According to previous studies, this approach is the most efficient \cite{Antonio2017PredictingRevenue}. When looking at accuracy, XGBoost performs best overall, however, it was not accurately able to predict true positive values. Because of this, an alternative method was used to produce more accurate results. 

\vspace{5mm}

From a machine learning point of view, using Auto ML is beneficial to be able to test multiple different algorithms with cross-validation and select the one with the best results in a more efficient manner. This is also beneficial from the business perspective as it provides an explanation behind the results, allowing for insights into the models accuracy. Using Auto ML allowed for Stack Ensemble to be identified as the best algorithm to be used in predicting booking cancellations on this dataset which would not have been identified otherwise. This has produced significantly better results in comparison to the original algorithm used, XGBoost. In comparison to using the Python libraries to create the models manually, using Auto ML allowed for the testing of a larger variety of algorithms to gain more accurate results. Auto ML has built in functionality that allows for an explanation of the model results which allows for a better understanding of the model output that can subsequently can be used to retrain the model, further improving its accuracy. An example of this is feature explanation.

\vspace{5mm}

As with all machine learning problems, the model is most accurate when trained over a number of iterations, this usually takes a long time in writing the code and preparing the model. Using Auto ML, the iterations of the model can be trained more efficiently and understand the results better. This was particularly beneficial in this project as it allowed for the realisation that targeting the precision was a more accurate method. Originally, the accuracy was targeted which is the total number of correct predictions, both true and false. However, due to the weighting of not cancelled bookings in the test data, a high accuracy was achieved without predicting a significant number of true positive bookings. 

\vspace{5mm}

As well as altering the classification algorithm, the primary metric was also changed. When looking at the confusion matrix, the number of false positives and true positives were roughly the same, meaning the model had not accurately predicted any of the bookings. Instead, the model accurately predicted bookings that were not going to be cancelled. These findings produced no valuable insights as the standard assumption is that bookings are not going to be cancelled.To produce a more beneficial model, the primary metric was changed to target recall instead. Recall is a more useful insight as it identifies the bookings that are going to be cancelled. Using Auto ML allowed for a straightforward method of changing the target metric. This subsequently allowed for the model to be re run with recall as the target metric. The results of this model were more beneficial by allowing for actual cancellations to be predicted. 

\section{Future work}
The dataset includes 75 percent of bookings as not cancelled, with only 25 percent being cancelled. This ratio of data produces bias towards the not cancelled bookings which is not ideal when using the data to predict cancellations. If the data was changed to contain a 50:50 split, the model could potentially be more accurate. Having a dataset which is more heavily weighted as cancelled would allow the model to be less biased towards non cancelled bookings. Future research should experiment with different sizes of data-sets to identify at which point the most accurate model would be achieved. 

\vspace{5mm}

Due to insufficient amount of data for some properties, the model in this project used all properties to predict cancellations. It is likely that creating a model that predicts cancellations on a per property basis would be more accurate. This is reinforced by previous research in revenue management which uses a per property level for their models. A per property model would likely be more accurate as each property has different attributes and different potential reasons for cancellations. For example, the properties in this dataset were in a variety of countries, at different universities and the price varied heavily depending on location. Although the findings of this model were still useful, future research should focus on using more data and making the model property specific. 

\vspace{5mm}

The amount of time taken for a booking to be made seems to be a significant indicator of cancellations as shown by the feature importance. The impact of the hours to start date on the cancellation process was not identified until analysing the results of this machine learning model. With this knowledge, additional analysis based on exploring the relationship between hours to start date and cancellations could be performed. This would allow for further insights into the specific behaviour of customers who cancel there bookings and ways to prevent this. 

\vspace{5mm}

Having access to previous years data would allow for more in-depth insights into the year on year trends of booking cancellations and adding this data to the model would also increase the accuracy.  As well as analysing the year on year trends, incorporating more data into the model would allow for a better accuracy on predicting cancellations. Future work should expand on adding more of the booking data into the data warehouse. 

\vspace{5mm}

The next steps for this project include implementing the model into the PMS system to be able to highlight customers on a daily basis who are most likely to cancel their bookings through a ranking system. Using the models feature explanation, the reason why this customer has been selected as most likely to cancel their booking should be able to be identified and with the provided recommended set of messages to send the customer in an attempt to prevent the cancellation from occurring.

\vspace{5mm}

With a clean dataset in place that encapsulates the customers data, it may be possible to extend the predictive capabilities beyond predicting cancellations to predicting what new properties will be most profitable in the future to assist in company decisions of which properties to buy and which to sell. It would be desirable to apply this classification methodologyÂ to otherÂ areas of the company.



